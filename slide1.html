<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Curso Interativo</title>
<style>
  :root{
    --bg:#0f1724;--card:#0b1220;--text:#e6eef8;--accent:#3b82f6;--muted:#9aa9c4;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui;}
  body{background:linear-gradient(180deg,#061026,#071833);color:var(--text);display:flex;align-items:center;justify-content:center;padding:20px;}
  .deck{width:100%;max-width:1100px;height:620px;background:rgba(255,255,255,0.02);border-radius:12px;box-shadow:0 20px 50px rgba(2,6,23,0.6);position:relative;overflow:hidden;padding:24px;box-sizing:border-box;}
  .slide{display:none;width:100%;height:100%;padding:30px;box-sizing:border-box;position:absolute;inset:0;}
  .slide.active{display:block;}
  .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  .subtitle{color:var(--muted);font-size:13px}
  .content{background:rgba(255,255,255,0.02);border-radius:10px;height:calc(100% - 64px);padding:28px;box-sizing:border-box;display:flex;flex-direction:column;gap:16px;overflow:auto}
  button{background:var(--accent);border:none;padding:10px 14px;border-radius:8px;color:white;font-weight:600;cursor:pointer}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text)}
  .small{padding:6px 10px;font-size:14px;border-radius:7px}
  .inputs{display:flex;flex-direction:column;gap:8px;width:360px}
  input{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:var(--text);outline:none}
  .slides-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
  .card{background:rgba(255,255,255,0.02);padding:14px;border-radius:10px}
  .footer-bar{position:absolute;left:0;right:0;bottom:0;padding:12px 24px;display:flex;justify-content:space-between;align-items:center;background:rgba(0,0,0,0.25);}
  .slide-number{color:var(--muted);font-size:13px}
  .error{color:#ffb3b3;background:rgba(255,50,50,0.06);padding:8px;border-radius:8px;border:1px solid rgba(255,50,50,0.08)}
  .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:center;justify-content:center;z-index:9999}
  .modal{background:var(--card);width:90%;max-width:900px;border-radius:10px;padding:18px;max-height:80vh;overflow:auto;}
  .log-row{display:flex;justify-content:space-between;gap:10px;padding:6px;border-bottom:1px dashed rgba(255,255,255,0.08);font-size:13px}
  .muted{color:var(--muted);font-size:13px}
</style>
</head>
<body>
<div class="deck">
  <!-- Slide 0 -->
  <div class="slide active" id="slide-0">
    <div class="header"><h1>Descrição do Curso</h1><div class="subtitle">Slide 0</div></div>
    <div class="content">
      <div id="course-desc" contenteditable="true" style="min-height:140px;padding:12px;border:1px dashed rgba(255,255,255,0.1);border-radius:8px;">
        <h2>Insira aqui a descrição do curso</h2>
        <p>Edite este texto livremente.</p>
      </div>
      <div style="margin-top:auto"><button id="btn-access">Acessar Curso</button></div>
    </div>
  </div>

  <!-- Slide 1: Login -->
  <div class="slide" id="slide-1">
    <div class="header"><h1>Login</h1><div class="subtitle">Slide 1</div></div>
    <div class="content">
      <div class="inputs">
        <label>Nome</label><input id="name" type="text" placeholder="Ex.: Benedito">
        <label>Código</label><input id="code" type="text" placeholder="Ex.: 1223334444">
        <div style="display:flex;gap:8px">
          <button id="btn-login">Entrar</button>
          <button id="btn-clear" class="btn-ghost small">Limpar</button>
          <button id="btn-exit-login" class="btn-ghost small">Sair</button>
        </div>
        <div id="login-msg"></div>
      </div>
    </div>
  </div>

  <!-- Slide 2: Menu -->
  <div class="slide" id="slide-2">
    <div class="header"><h1>Menu do Curso</h1><div class="subtitle">Slide 2</div></div>
    <div class="content">
      <div class="slides-grid" id="menu-links"></div>
      <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
        <div id="admin-logs-area" style="display:none;gap:8px">
          <button id="view-logs" class="small">Ver Logs</button>
        </div>
        <button id="btn-exit-menu" class="btn-ghost small">Sair</button>
      </div>
    </div>
  </div>

  <!-- Slides 3–17 -->
  <div id="slides-container"></div>

  <!-- Modal Logs -->
  <div id="modal" class="modal-backdrop">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h2>Relatório de Acessos</h2>
        <div id="admin-logs-controls" style="display:none;gap:8px">
          <button id="btn-clear-logs" class="small btn-ghost">Limpar Logs</button>
          <button id="close-modal" class="btn-ghost small">Fechar</button>
        </div>
      </div>
      <div id="logs-list"></div>
    </div>
  </div>
</div>

<script>
const TOTAL_SLIDES=18;
const logsKey='courseLogs_v1';
let isAdmin=false;

function $(s){return document.querySelector(s);}
function showSlide(i){document.querySelectorAll('.slide').forEach(s=>s.classList.remove('active'));const el=$('#slide-'+i);if(el)el.classList.add('active');}

// gerar slides 3..17
const cont=$('#slides-container');
for(let i=3;i<=17;i++){
  cont.innerHTML+=`
    <div class="slide" id="slide-${i}">
      <div class="header"><h1>Slide ${i}</h1></div>
      <div class="content">
        <p>Conteúdo vazio.</p>
        <div style="margin-top:auto;display:flex;justify-content:space-between">
          <button class="btn-ghost small btn-backmenu">Voltar ao Menu</button>
          <button class="btn-ghost small btn-exit">Sair</button>
        </div>
      </div>
    </div>`;
}
// gerar menu links
const menu=$('#menu-links');
for(let i=3;i<=17;i++){
  menu.innerHTML+=`<div class="card"><strong>Slide ${i}</strong><br><button class="small btn-open" data-to="${i}">Abrir</button></div>`;
}

// acesso
$('#btn-access').onclick=()=>showSlide(1);
$('#btn-clear').onclick=()=>{$('#name').value='';$('#code').value='';$('#login-msg').innerHTML='';};
$('#btn-exit-login').onclick=()=>showSlide(0);
$('#btn-exit-menu').onclick=()=>showSlide(0);
document.querySelectorAll('.btn-exit').forEach(b=>b.onclick=()=>showSlide(0));

$('#btn-login').onclick=()=>{
  const name=$('#name').value.trim();
  const code=$('#code').value.trim();
  const log={time:new Date().toISOString(),name,code};
  if(name==='Benedito' && code==='admin'){
    isAdmin=true;localStorage.setItem('isAdmin','1');
    addLog({...log,result:'admin'});
    renderAdmin();
    openLogs();return;
  }
  if(code==='1223334444'){
    isAdmin=false;localStorage.removeItem('isAdmin');
    addLog({...log,result:'acesso curso'});
    showSlide(2);renderAdmin();return;
  }
  addLog({...log,result:'código inválido'});
  $('#login-msg').innerHTML='<div class="error">Código inválido</div>';
};

function addLog(e){const a=JSON.parse(localStorage.getItem(logsKey)||'[]');a.push(e);localStorage.setItem(logsKey,JSON.stringify(a));}
function getLogs(){return JSON.parse(localStorage.getItem(logsKey)||'[]');}
function clearLogs(){localStorage.removeItem(logsKey);}

function renderAdmin(){
  const flag=localStorage.getItem('isAdmin')==='1';
  $('#admin-logs-area').style.display=flag?'flex':'none';
}

document.querySelectorAll('.btn-open').forEach(b=>b.onclick=e=>showSlide(e.target.dataset.to));
document.querySelectorAll('.btn-backmenu').forEach(b=>b.onclick=()=>showSlide(2));

$('#view-logs').onclick=openLogs;
$('#close-modal').onclick=()=>$('#modal').style.display='none';
$('#btn-clear-logs').onclick=()=>{
  if(confirm('Deseja realmente limpar todos os logs?')){
    clearLogs();renderLogs();
  }
};

function openLogs(){
  renderLogs();
  $('#modal').style.display='flex';
  const admin=localStorage.getItem('isAdmin')==='1';
  $('#admin-logs-controls').style.display=admin?'flex':'none';
}
function renderLogs(){
  const list=$('#logs-list');const logs=getLogs();
  if(!logs.length){list.innerHTML='<p class="muted">Sem registros</p>';return;}
  list.innerHTML=logs.map((l,i)=>`<div class="log-row"><div>#${i+1}</div><div>${l.name}</div><div>${l.code}</div><div>${l.result}</div></div>`).join('');
}

// inicial
renderAdmin();
</script>
</body>
  </html>
